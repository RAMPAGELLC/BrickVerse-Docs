# debug

This library provides a few basic functions for debugging code in BrickVerse. Unlike the `debug` library found in Lua natively, this version has been heavily sandboxed. BrickVerse does, however, have debugging functionality similar to Lua’s native debugging functionality (see the [`DebuggerManager`](debug.md) class).

| [string](debug.md) **debug.traceback** ( [string](debug.md) message, [number](debug.md) level = 1 )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <p>Returns a traceback of the current function call stack as a string. In other words, a description of the functions that have been called up to this point. The <code>level</code> parameter specifies what level of the call stack to consider, with 1 being the call of debug.traceback itself, 2 being the call of the function calling debug.traceback (if there is one) and so on.</p><p>During debugging, debug.traceback answers the question “how did my code get here?” much like an error stack trace, but without stopping the execution of the script. See the example below with several function calls: c() calls b(), b() calls a(), and a() calls debug.traceback.</p><p></p><pre><code>local function a()	print(debug.traceback("Specific moment during a()"))end local function b()	a()end local function c()	b()end a()
</code></pre><p>The above code would produce an output similar to (but not guaranteed to be exactly like) the following:</p><p></p><pre><code>Specific moment during a()
ServerScript.Script:2 function a
ServerScript.Script:6 function b
ServerScript.Script:10 function c
ServerScript.Script:13
</code></pre><p>The format of the returned traceback is <strong>not defined</strong> and may change at any time; use only for debug diagnostics and error analytics. It’s recommended that you <strong>never</strong> parse the return value of this function for specific information, such as script names or line numbers.</p> |

| [string](debug.md) **debug.traceback** ( [thread](debug.md) thread, [string](debug.md) message, [number](debug.md) level = 1 ) |
| ------------------------------------------------------------------------------------------------------------------------------ |
| ‘’                                                                                                                             |

| [Tuple](debug.md) **debug.info** ( [thread](debug.md) thread, [number](debug.md) level, [string](debug.md) options )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <p>Allows programmatic inspection of the call stack.</p><ul><li><code>thread</code> (thread) - A thread as returned by <code>coroutine.create</code>.</li><li><p><code>level</code> - A <code>number</code> to describe the point at which information from the call stack information should be returned.</p><ul><li>A value of <code>1</code> represents the function which is calling <code>debug.info</code>. <code>2</code> represents the function that called that function, and so on. Out-of-bounds values will result in no values returned.</li></ul></li><li><p><code>options</code> - A string that represents the information to be returned. It must contain exactly 0 or 1 of each of the following characters and no others: <code>slnaf</code></p><ul><li><code>s</code> - <code>string</code>. The function source identifier, equal to the full name of the script the function is defined in</li><li><code>l</code> - <code>number</code>. If <code>functionOrLevel</code> is a function, the line the function is defined on. If <code>functionOrLevel</code> is a number (examining a stack frame), the line number of the function call</li><li><code>n</code> - <code>string</code>. The name of the function, may be nil for anonymous functions and C functions without an assigned debug name.</li><li><code>a</code> - <code>number</code>, <code>boolean</code>. Arity of the function, which refers to the parameter count and whether the function is variadic.</li><li><code>f</code> - <code>function</code>. The function which was inspected.</li></ul></li></ul><p>This function differs from <code>debug.traceback</code> in that it guarantees the format of the data it returns. This is useful not only for general logging and filtering purposes, but also for sending the data to systems expecting structured input, such as crash aggregation.</p><p>This function is similar to <code>debug.getinfo</code>, an unavailable part of the standard Lua library which serves a similar purpose.</p> |

| [Tuple](debug.md) **debug.info** ( [function](debug.md) function, [string](debug.md) options )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <p>Allows programmatic inspection of the call stack.</p><ul><li><code>function</code> - A <code>function</code> to describe the point at which information from the call stack information should be returned.</li><li><p><code>options</code> - A string that represents the information to be returned. It must contain exactly 0 or 1 of each of the following characters and no others: <code>slnaf</code></p><ul><li><code>s</code> - <code>string</code>. The function source identifier, equal to the full name of the script the function is defined in</li><li><code>l</code> - <code>number</code>. If <code>functionOrLevel</code> is a function, the line the function is defined on. If <code>functionOrLevel</code> is a number (examining a stack frame), the line number of the function call</li><li><code>n</code> - <code>string</code>. The name of the function, may be nil for anonymous functions and C functions without an assigned debug name.</li><li><code>a</code> - <code>number</code>, <code>boolean</code>. Arity of the function, which refers to the parameter count and whether the function is variadic.</li><li><code>f</code> - <code>function</code>. The function which was inspected.</li></ul></li></ul><p>This function differs from <code>debug.traceback</code> in that it guarantees the format of the data it returns. This is useful not only for general logging and filtering purposes, but also for sending the data to systems expecting structured input, such as crash aggregation.</p><p>This function is similar to <code>debug.getinfo</code>, an unavailable part of the standard Lua library which serves a similar purpose.</p> |

| [Tuple](debug.md) **debug.info** ( [number](debug.md) level, [string](debug.md) options )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| <p>Allows programmatic inspection of the call stack.</p><ul><li><p><code>level</code> - A <code>number</code> to describe the point at which information from the call stack information should be returned.</p><ul><li>A value of <code>1</code> represents the function which is calling <code>debug.info</code>. <code>2</code> represents the function that called that function, and so on. Out-of-bounds values will result in no values returned.</li></ul></li><li><p><code>options</code> - A string that represents the information to be returned. It must contain exactly 0 or 1 of each of the following characters and no others: <code>slnaf</code></p><ul><li><code>s</code> - <code>string</code>. The function source identifier, equal to the full name of the script the function is defined in</li><li><code>l</code> - <code>number</code>. If <code>functionOrLevel</code> is a function, the line the function is defined on. If <code>functionOrLevel</code> is a number (examining a stack frame), the line number of the function call</li><li><code>n</code> - <code>string</code>. The name of the function, may be nil for anonymous functions and C functions without an assigned debug name.</li><li><code>a</code> - <code>number</code>, <code>boolean</code>. Arity of the function, which refers to the parameter count and whether the function is variadic.</li><li><code>f</code> - <code>function</code>. The function which was inspected.</li></ul></li></ul><p>This function differs from <code>debug.traceback</code> in that it guarantees the format of the data it returns. This is useful not only for general logging and filtering purposes, but also for sending the data to systems expecting structured input, such as crash aggregation.</p><p>This function is similar to <code>debug.getinfo</code>, an unavailable part of the standard Lua library which serves a similar purpose.</p> |

| [void](debug.md) **debug.profilebegin** ( [string](debug.md) label ) |
| -------------------------------------------------------------------- |
| Opens a microprofiler label.                                         |

| [void](debug.md) **debug.profileend** ( ) |
| ----------------------------------------- |
| Closes the top microprofiler label.       |

| **debug.setmemorycategory** ( [string](debug.md) tag )                                                                                                                                                                                  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Assigns a custom tag name to the current thread’s memory category in the Developer Console. Useful for analyzing memory usage of multiple threads in the same script which would otherwise be grouped together under the same tag/name. |

| **debug.resetmemorycategory** ( )                                                                                      |
| ---------------------------------------------------------------------------------------------------------------------- |
| Resets the tag assigned by `debug.setmemorycategory` to the automatically assigned value (typically, the script name). |
